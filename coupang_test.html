<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ì ì„± ì§„ë‹¨ | VCML</title>
    
    <!-- 1. Tailwind CSS ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. React & ReactDOM ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 3. Babel (JSX ë³€í™˜ê¸°) ë¶ˆëŸ¬ì˜¤ê¸° -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- í°íŠ¸ ì„¤ì • (VCML í…Œë§ˆ ìœ ì§€) -->
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', 'IBM Plex Sans KR', sans-serif; }
        
        /* ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-50">

    <!-- ë¦¬ì•¡íŠ¸ ì•±ì´ ë“¤ì–´ê°ˆ ë¿Œë¦¬(Root) -->
    <div id="root"></div>

    <!-- ë¦¬ì•¡íŠ¸ ì½”ë“œ ì‘ì„± (text/babel í•„ìˆ˜) -->
    <script type="text/babel">
        const { useState, useEffect } = React;

        // ì•„ì´ì½˜ ì»´í¬ë„ŒíŠ¸
        const ChevronRight = ({size=24, className=""}) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m9 18 6-6-6-6"/></svg>
        );
        const Zap = ({size=24, className=""}) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
        );
        const AlertTriangle = ({size=24, className=""}) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
        );
        const BarChart2 = ({size=24, className="", style={}}) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className} style={style}><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
        );

        // ë©”ì¸ ì»´í¬ë„ŒíŠ¸
        const CoupangPartnersTest = () => {
            const [step, setStep] = useState('intro');
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [score, setScore] = useState(0);
            const [progress, setProgress] = useState(0);

            // ë””ìì¸ í…Œë§ˆ ìƒ‰ìƒ (VCML/ì¿ íŒ¡ ë¸Œëœë“œ ì»¬ëŸ¬)
            const themeColors = {
                blue: "#10069F",  
                red: "#E53A40",   
                green: "#2DB400", 
                orange: "#FF9600" 
            };

            const questions = [
                // PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„ (Blue)
                {
                    id: 1, category: "PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„", theme: "blue",
                    q: "ìµœê·¼ ì¼ì£¼ì¼ ì‚¬ì´ ê°€ì¥ í™”ì œê°€ ë˜ì—ˆë˜\në‰´ìŠ¤ë‚˜ ë°ˆ(Meme)ì„ 3ê°€ì§€ ì´ìƒ ë§í•  ìˆ˜ ìˆë‚˜ìš”?",
                    options: [
                        { text: "A. ë°”ë¡œ ë– ì˜¤ë¥´ë©°, ê·¸ê²ƒê³¼ ê´€ë ¨ëœ ìƒí’ˆì´ë‚˜ í‚¤ì›Œë“œë„ ì—°ìƒëœë‹¤.", score: 3 },
                        { text: "B. ë“¤ì–´ë³¸ ê²ƒ ê°™ê¸°ëŠ” í•œë° ì •í™•í•œ ë‚´ìš©ì€ ê²€ìƒ‰í•´ë´ì•¼ ì•ˆë‹¤.", score: 2 },
                        { text: "C. ë‰´ìŠ¤ë¥¼ ê±°ì˜ ì•ˆ ë´ì„œ ì„¸ìƒ ëŒì•„ê°€ëŠ” ì¼ì„ ì˜ ëª¨ë¥¸ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 2, category: "PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„", theme: "blue",
                    q: "í‰ì†Œ ì •ë³´ë¥¼ ìŠµë“í•˜ëŠ”\nì£¼ëœ ì°½êµ¬ëŠ” ì–´ë””ì¸ê°€ìš”?",
                    options: [
                        { text: "A. íŠ¸ìœ„í„°(X), ì¸ìŠ¤íƒ€ ë¦´ìŠ¤, ì»¤ë®¤ë‹ˆí‹° ë“± ë°˜ì‘ ë¹ ë¥¸ ê³³", score: 3 },
                        { text: "B. ë„¤ì´ë²„ ë©”ì¸ ë‰´ìŠ¤, TV ì €ë… ë‰´ìŠ¤", score: 2 },
                        { text: "C. ì§€ì¸ì´ ë§í•´ì£¼ì§€ ì•Šìœ¼ë©´ ì˜ ëª¨ë¥¸ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 3, category: "PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„", theme: "blue",
                    q: "'í•œê°• ì‘ê°€ ë…¸ë²¨ìƒ ìˆ˜ìƒ' ê°™ì€\nëŒ€í˜• ì´ìŠˆê°€ í„°ì¡Œì„ ë•Œ ë“œëŠ” ìƒê°ì€?",
                    options: [
                        { text: "A. \"ì±… ì£¼ë¬¸ í­ì£¼í•˜ê² ë„¤? ê´€ë ¨ êµ¿ì¦ˆë„ íŒ”ë¦´ê¹Œ?\"", score: 3 },
                        { text: "B. \"ì™€ ëŒ€ë‹¨í•˜ë‹¤, êµ­ë½• ì°¨ì˜¤ë¥¸ë‹¤.\"", score: 2 },
                        { text: "C. ë³„ ê´€ì‹¬ ì—†ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 4, category: "PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„", theme: "blue",
                    q: "10ëŒ€~20ëŒ€ ì‚¬ì´ì—ì„œ ìœ í–‰í•˜ëŠ”\nì–¸ì–´ë‚˜ ì±Œë¦°ì§€ë¥¼ ë³´ë©´ ì–´ë–¤ê°€ìš”?",
                    options: [
                        { text: "A. ë¬´ìŠ¨ ëœ»ì¸ì§€ ì°¾ì•„ë³´ê³ , ë‚´ ì½˜í…ì¸  ì œëª©ì— í™œìš©í•´ ë³¸ë‹¤.", score: 3 },
                        { text: "B. ìœ ì¹˜í•´ ë³´ì´ì§€ë§Œ ìœ í–‰ì´ë¼ë‹ˆ ì°¸ê³ ëŠ” í•œë‹¤.", score: 2 },
                        { text: "C. ìš”ì¦˜ ì• ë“¤ì€ ì´ìƒí•˜ë‹¤ë©° ê±°ë¶€ê°ì´ ë“ ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 5, category: "PART 1. íŠ¸ë Œë“œ & ì •ë³´ ë¯¼ê°ë„", theme: "blue",
                    q: "ê³„ì ˆì´ ë°”ë€Œê±°ë‚˜ ëª…ì ˆ(ì„¤ë‚ , ì¶”ì„)ì´\në‹¤ê°€ì˜¤ë©´ ë¬´ì—‡ì„ ì¤€ë¹„í•˜ë‚˜ìš”?",
                    options: [
                        { text: "A. 2~3ì£¼ ì „ë¶€í„° í•´ë‹¹ ì‹œì¦Œ í‚¤ì›Œë“œì™€ ìƒí’ˆì„ ë¯¸ë¦¬ ì •ë¦¬í•œë‹¤.", score: 3 },
                        { text: "B. ë‚ ì§œê°€ ë‹¥ì¹˜ë©´ ê·¸ë•Œ ê°€ì„œ ë¶€ë´ë¶€ë´ ê´€ë ¨ ê¸€ì„ ì“´ë‹¤.", score: 2 },
                        { text: "C. í‰ì†Œ ì˜¬ë¦¬ë˜ ëŒ€ë¡œ ë˜‘ê°™ì´ ì˜¬ë¦°ë‹¤.", score: 1 }
                    ]
                },
                // PART 2. ë§ˆì¸ë“œì…‹ (Red)
                {
                    id: 6, category: "PART 2. ë§ˆì¸ë“œì…‹ & íšŒë³µíƒ„ë ¥ì„±", theme: "red",
                    q: "ì—´ì‹¬íˆ ë§Œë“  ì½˜í…ì¸ ê°€ ë°˜ì‘ì´ ì—†ê³ \nìˆ˜ìµì´ 0ì›ì¼ ë•Œ, ë³¸ì¸ì˜ ì‹¬ê²½ì€?",
                    options: [
                        { text: "A. \"ë°ì´í„°ê°€ ìŒ“ì´ëŠ” ê³¼ì •ì´ë‹¤. ë¬´ì—‡ì´ ë¬¸ì œì¸ì§€ ë¶„ì„í•˜ì.\"", score: 3 },
                        { text: "B. \"ì—­ì‹œ ë ˆë“œì˜¤ì…˜ì¸ê°€? ë‹¤ë¥¸ ë¶€ì—…ì„ ì°¾ì•„ë´ì•¼ í•˜ë‚˜...\"", score: 2 },
                        { text: "C. \"ê°•ì˜ ë‚´ìš©ì´ ì˜ëª»ëœ ê²ƒ ì•„ë‹Œê°€? ì†ì€ ê¸°ë¶„ì´ë‹¤.\"", score: 1 }
                    ]
                },
                {
                    id: 7, category: "PART 2. ë§ˆì¸ë“œì…‹ & íšŒë³µíƒ„ë ¥ì„±", theme: "red",
                    q: "ê°•ì˜ë‚˜ ë§¤ë‰´ì–¼ì— ë‚˜ì˜¤ì§€ ì•Šì€\nì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆì„ ë•Œ?",
                    options: [
                        { text: "A. ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ êµ¬ê¸€ì´ë‚˜ ìœ íŠœë¸Œì— ë¨¼ì € ê²€ìƒ‰í•´ í•´ê²°í•œë‹¤.", score: 3 },
                        { text: "B. ê°•ì‚¬ì—ê²Œ ì§ˆë¬¸í•˜ê³  ë‹µë³€ì´ ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.", score: 2 },
                        { text: "C. ì§œì¦ì´ ë‚˜ì„œ ì»´í“¨í„°ë¥¼ ë„ê±°ë‚˜ í¬ê¸°í•˜ê³  ì‹¶ì–´ì§„ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 8, category: "PART 2. ë§ˆì¸ë“œì…‹ & íšŒë³µíƒ„ë ¥ì„±", theme: "red",
                    q: "í”Œë«í¼ì˜ ì •ì±… ë³€ê²½ìœ¼ë¡œ\në…¸ì¶œì´ ì¤„ì–´ë“œëŠ” ìƒí™©ì´ ì˜¨ë‹¤ë©´?",
                    options: [
                        { text: "A. \"í”Œë«í¼ì€ ë³€í•œë‹¤. ë³€í™”ëœ ë¡œì§ì„ ë¹¨ë¦¬ íŒŒì•…í•´ ì ìš©í•˜ì.\"", score: 3 },
                        { text: "B. ë¶ˆì•ˆí•´í•˜ë©° ê°•ì‚¬ì—ê²Œ ì˜ˆì „ ë°©ë²•ì´ ì™œ ì•ˆ í†µí•˜ëŠ”ì§€ ë”°ì§„ë‹¤.", score: 2 },
                        { text: "C. \"ì´ì œ ëë¬¼ì´ë‹¤\"ë¼ê³  ë‹¨ì • ì§“ê³  ê·¸ë§Œë‘”ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 9, category: "PART 2. ë§ˆì¸ë“œì…‹ & íšŒë³µíƒ„ë ¥ì„±", theme: "red",
                    q: "\"í•˜ë£¨ 1ì‹œê°„ë§Œ íˆ¬ìí•˜ë©´ ì›” 300ë§Œ ì›!\"\nê°™ì€ ê´‘ê³  ë¬¸êµ¬ë¥¼ ë³´ë©´?",
                    options: [
                        { text: "A. \"ì´ˆê¸°ì—” 10ì‹œê°„ ì´ìƒì˜ ë…¸ë ¥ì´ ì••ì¶•ë˜ì—ˆê² ì§€.\"", score: 3 },
                        { text: "B. \"ë‚˜ë„ ê°•ì˜ë§Œ ë“¤ìœ¼ë©´ ë°”ë¡œ ì €ë ‡ê²Œ ë˜ê² ì§€?\"", score: 2 },
                        { text: "C. \"ì‚¬ê¸°ê¾¼ë“¤ì´ë‹¤. ë‹¤ ê±°ì§“ë§ì´ë‹¤.\"", score: 1 }
                    ]
                },
                {
                    id: 10, category: "PART 2. ë§ˆì¸ë“œì…‹ & íšŒë³µíƒ„ë ¥ì„±", theme: "red",
                    q: "ì´ ê³¼ì •ì„ ìˆ˜ê°•í•˜ëŠ” ë™ì•ˆ\në³¸ì¸ì˜ ì‹œê°„ ì‚¬ìš© ìš°ì„ ìˆœìœ„ëŠ”?",
                    options: [
                        { text: "A. ì ì´ë‚˜ ì—¬ê°€ ì‹œê°„ì„ ì¤„ì—¬ì„œë¼ë„ ê³¼ì œ ì‹œê°„ì„ ë¬´ì¡°ê±´ í™•ë³´í•œë‹¤.", score: 3 },
                        { text: "B. ë‚¨ëŠ” ì‹œê°„ì— í‹ˆí‹ˆì´ í•˜ê² ì§€ë§Œ, ë³¸ì—…ì´ë‚˜ ì•½ì†ì´ ìš°ì„ ì´ë‹¤.", score: 2 },
                        { text: "C. ë°”ë¹ ì„œ ëª» í•  ìˆ˜ë„ ìˆìœ¼ë‹ˆ, ìš”ì ë§Œ ë– ë¨¹ì—¬ ì£¼ê¸¸ ë°”ë€ë‹¤.", score: 1 }
                    ]
                },
                // PART 3. ë””ì§€í„¸ ë„êµ¬ (Green)
                {
                    id: 11, category: "PART 3. ë””ì§€í„¸ ë„êµ¬ & ìƒì‚°ì„±", theme: "green",
                    q: "ìƒˆë¡œìš´ ìŠ¤ë§ˆíŠ¸í° ì•±ì´ë‚˜\nPC í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•´ì•¼ í•  ë•Œ?",
                    options: [
                        { text: "A. ì´ê²ƒì €ê²ƒ ëˆŒëŸ¬ë³´ë©° ì§ê´€ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ìµíˆëŠ” í¸ì´ë‹¤.", score: 3 },
                        { text: "B. ì‚¬ìš© ì„¤ëª…ì„œë‚˜ ìœ íŠœë¸Œ ê°•ì˜ë¥¼ ë³´ë©° ì²œì²œíˆ ë”°ë¼ í•œë‹¤.", score: 2 },
                        { text: "C. ì„¤ì¹˜ ê³¼ì •ë¶€í„° ë§‰í˜€ì„œ ì£¼ë³€ì˜ ë„ì›€ ì—†ì´ëŠ” ë¶ˆê°€ëŠ¥í•˜ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 12, category: "PART 3. ë””ì§€í„¸ ë„êµ¬ & ìƒì‚°ì„±", theme: "green",
                    q: "ì±—GPT ê°™ì€ AI ë„êµ¬ë¥¼\ní™œìš©í•´ ë³¸ ê²½í—˜ì€?",
                    options: [
                        { text: "A. ì—…ë¬´/ì°½ì‘ì— í™œìš©í•´ë³´ì•˜ê³ , ì§ˆë¬¸ì„ ìˆ˜ì •í•˜ë©° ì›í•˜ëŠ” ë‹µì„ ì–»ëŠ”ë‹¤.", score: 3 },
                        { text: "B. ì‹ ê¸°í•´ì„œ ëª‡ ë²ˆ ì¨ë´¤ì§€ë§Œ, ì‹¤ì§ˆì ì¸ ë„ì›€ì€ ëª» ë°›ì•˜ë‹¤.", score: 2 },
                        { text: "C. íšŒì›ê°€ì…ë„ ì•ˆ í–ˆê±°ë‚˜, ì‚¬ìš©í•  í•„ìš”ì„±ì„ ëª» ëŠë‚€ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 13, category: "PART 3. ë””ì§€í„¸ ë„êµ¬ & ìƒì‚°ì„±", theme: "green",
                    q: "ê°„ë‹¨í•œ ì´ë¯¸ì§€ í¸ì§‘(ê¸€ì”¨ ë„£ê¸°, í¬ê¸° ì¡°ì ˆ ë“±)ì´\ní•„ìš”í•  ë•Œ?",
                    options: [
                        { text: "A. ë¯¸ë¦¬ìº”ë²„ìŠ¤, í¬í† ìƒµ ë“±ì„ ì´ìš©í•´ 10ë¶„ ë‚´ë¡œ ëšë”± ë§Œë“ ë‹¤.", score: 3 },
                        { text: "B. ê·¸ë¦¼íŒì´ë‚˜ ê¸°ë³¸ ì•±ìœ¼ë¡œ ê²¨ìš°ê²¨ìš° í•œë‹¤.", score: 2 },
                        { text: "C. í•  ì¤„ ëª°ë¼ì„œ í…ìŠ¤íŠ¸ë¡œë§Œ ë•Œìš°ê±°ë‚˜ ë‚¨ì—ê²Œ ë¶€íƒí•œë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 14, category: "PART 3. ë””ì§€í„¸ ë„êµ¬ & ìƒì‚°ì„±", theme: "green",
                    q: "ì—‘ì…€ì´ë‚˜ êµ¬ê¸€ ìŠ¤í”„ë ˆë“œì‹œíŠ¸\ní™œìš© ëŠ¥ë ¥ì€?",
                    options: [
                        { text: "A. ë°ì´í„°ë¥¼ ì •ë ¬í•˜ê³  ê¸°ë³¸ í•¨ìˆ˜ë¥¼ ì¨ì„œ ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬ê°€ ê°€ëŠ¥í•˜ë‹¤.", score: 3 },
                        { text: "B. ì¹¸ì— ê¸€ì”¨ë¥¼ ì…ë ¥í•˜ê³  ì €ì¥í•˜ëŠ” ì •ë„ëŠ” í•œë‹¤.", score: 2 },
                        { text: "C. ì—‘ì…€ì„ ì¼œëŠ” ê²ƒì¡°ì°¨ ë¶€ë‹´ìŠ¤ëŸ½ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 15, category: "PART 3. ë””ì§€í„¸ ë„êµ¬ & ìƒì‚°ì„±", theme: "green",
                    q: "ë‚´ ì½˜í…ì¸ ì˜ ë§í¬ í´ë¦­ë¥ (CTR)ì„\në†’ì´ê¸° ìœ„í•œ ì‹œë„ëŠ”?",
                    options: [
                        { text: "A. ì¸ë„¤ì¼ ë¬¸êµ¬ì™€ ì´ë¯¸ì§€ë¥¼ ë°”ê¿”ê°€ë©° í…ŒìŠ¤íŠ¸í•´ ë³¸ ì ì´ ìˆë‹¤.", score: 3 },
                        { text: "B. ë‚¨ë“¤ì´ ì¢‹ë‹¤ëŠ” ë°©ì‹(ë…¸ë€ìƒ‰ ë°°ê²½ ë“±)ì„ ê·¸ëŒ€ë¡œ ë”°ë¼ í•œë‹¤.", score: 2 },
                        { text: "C. ê·¸ëƒ¥ ì˜¬ë¦¬ë©´ ì•Œì•„ì„œ í´ë¦­í•´ ì£¼ê² ì§€ í•˜ê³  ë‘”ë‹¤.", score: 1 }
                    ]
                },
                // PART 4. ë§ˆì¼€íŒ… ê°ê° (Orange)
                {
                    id: 16, category: "PART 4. ë§ˆì¼€íŒ… ê°ê°", theme: "orange",
                    q: "\"ë¹„ ì˜¤ëŠ” ë‚ \"ì— ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ë¡œ\në¬´ì—‡ì„ íŒ”ë©´ ì¢‹ì„ê¹Œìš”?",
                    options: [
                        { text: "A. ì œìŠµê¸°, ë ˆì¸ë¶€ì¸ , ê¹€ì¹˜ì „ ë°€í‚¤íŠ¸", score: 3 },
                        { text: "B. ìš°ì‚°", score: 2 },
                        { text: "C. ê·¸ëƒ¥ í‰ì†Œì— ì˜ íŒ”ë¦¬ëŠ” ìƒìˆ˜ë‚˜ íœ´ì§€", score: 1 }
                    ]
                },
                {
                    id: 17, category: "PART 4. ë§ˆì¼€íŒ… ê°ê°", theme: "orange",
                    q: "ë‚´ê°€ ì¨ë³´ì§€ ì•Šì€ ë¬¼ê±´ì„ íŒ”ì•„ì•¼ í•  ë•Œ,\nìƒì„¸í˜ì´ì§€ì—ì„œ ë¬´ì—‡ì„ ë³´ë‚˜ìš”?",
                    options: [
                        { text: "A. êµ¬ë§¤ìë“¤ì˜ 'ë¶ˆë§Œì¡± ë¦¬ë·°'ë¥¼ ì°¾ì•„ ë‹¨ì ì„ ë³´ì™„í•˜ëŠ” ë©˜íŠ¸ë¥¼ ì§ ë‹¤.", score: 3 },
                        { text: "B. íŒë§¤ìê°€ ì ì–´ë†“ì€ ì¥ì ê³¼ ìŠ¤í™ì„ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ ì˜¨ë‹¤.", score: 2 },
                        { text: "C. ì‚¬ì§„ë§Œ ëŒ€ì¶© ìº¡ì²˜í•´ì„œ ì˜¬ë¦°ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 18, category: "PART 4. ë§ˆì¼€íŒ… ê°ê°", theme: "orange",
                    q: "ì‚¬ëŒë“¤ì´ ë¬¼ê±´ì„ êµ¬ë§¤í•  ë•Œ\nê°€ì¥ ê²°ì •ì ì¸ ìš”ì¸ì€?",
                    options: [
                        { text: "A. \"ì´ ì œí’ˆì´ ì§€ê¸ˆ ë‹¹ì¥ ë‚´ ë¶ˆí¸í•¨ì„ í•´ê²°í•´ ì¤€ë‹¤\"ëŠ” í™•ì‹ ", score: 3 },
                        { text: "B. ì œí’ˆì˜ ìŠ¤í™ì´ ì–¼ë§ˆë‚˜ ë›°ì–´ë‚œì§€", score: 2 },
                        { text: "C. ê°€ê²©ì´ ë¬´ì¡°ê±´ ì‹¼ ê²ƒ", score: 1 }
                    ]
                },
                {
                    id: 19, category: "PART 4. ë§ˆì¼€íŒ… ê°ê°", theme: "orange",
                    q: "ê²½ìŸìê°€ ë‚˜ì™€ ë˜‘ê°™ì€ ìƒí’ˆì„ ì˜¬ë ¸ëŠ”ë°\nì¡°íšŒìˆ˜ê°€ í›¨ì”¬ ë†’ë‹¤ë©´?",
                    options: [
                        { text: "A. ì œëª©, í‚¤ì›Œë“œ, ì¸ë„¤ì¼ì„ ë¹„êµ ë¶„ì„í•´ì„œ ë‚´ ê²ƒì— ì ìš©í•œë‹¤.", score: 3 },
                        { text: "B. ìš´ì´ ì¢‹ì€ ë†ˆì´ë¼ë©° ë¶€ëŸ¬ì›Œí•œë‹¤.", score: 2 },
                        { text: "C. ê¸°ë¶„ ë‚˜ë¹ ì„œ ê·¸ ìƒí’ˆì„ ë‚´ë¦°ë‹¤.", score: 1 }
                    ]
                },
                {
                    id: 20, category: "PART 4. ë§ˆì¼€íŒ… ê°ê°", theme: "orange",
                    q: "ë§ˆì§€ë§‰ìœ¼ë¡œ,\nê°•ì‚¬ì—ê²Œ ë°”ë¼ëŠ” ì ì€?",
                    options: [
                        { text: "A. \"ì‹œí–‰ì°©ì˜¤ë¥¼ ì¤„ì¼ ë°©í–¥ê³¼ ë…¸í•˜ìš°ë¥¼ ì£¼ì„¸ìš”. ì‹¤í–‰ì€ ì œê°€ í•©ë‹ˆë‹¤.\"", score: 3 },
                        { text: "B. \"ì‹œí‚¤ëŠ” ëŒ€ë¡œ ë‹¤ í•  í…Œë‹ˆ ìˆ˜ìµ ì•ˆ ë‚˜ë©´ ì±…ì„ì ¸ì£¼ì„¸ìš”.\"", score: 2 },
                        { text: "C. \"ì €ëŠ” ë°”ì˜ë‹ˆê¹Œ ì•Œì•„ì„œ ëˆ ë²Œë¦¬ëŠ” ì„¸íŒ…ì„ ë‹¤ í•´ì£¼ì„¸ìš”.\"", score: 1 }
                    ]
                }
            ];

            const handleStart = () => {
                setStep('quiz');
            };

            const handleAnswer = (optionScore) => {
                setScore(score + optionScore);
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                    setProgress(((currentQuestion + 1) / questions.length) * 100);
                    window.scrollTo(0, 0);
                } else {
                    setStep('analyzing');
                }
            };

            useEffect(() => {
                if (step === 'analyzing') {
                    const timer = setTimeout(() => { setStep('result'); }, 2500);
                    return () => clearTimeout(timer);
                }
            }, [step]);

            const currentThemeColor = themeColors[questions[currentQuestion]?.theme || 'blue'];
            const hexToRgba = (hex, alpha) => {
                const r = parseInt(hex.slice(1, 3), 16);
                const g = parseInt(hex.slice(3, 5), 16);
                const b = parseInt(hex.slice(5, 7), 16);
                return `rgba(${r}, ${g}, ${b}, ${alpha})`;
            };

            // íŒì—… ë‹«ê¸° í•¨ìˆ˜ (ë¶€ëª¨ì°½ ì œì–´)
            const handleClose = () => {
                if (window.parent && window.parent.closeModal) {
                    window.parent.closeModal(); // ë¶€ëª¨ ì°½(index.html)ì˜ closeModal í•¨ìˆ˜ ì‹¤í–‰
                } else {
                    // í˜¹ì‹œ íŒì—…ì´ ì•„ë‹ˆë¼ ê·¸ëƒ¥ ì—´ë ¸ì„ ê²½ìš°ë¥¼ ëŒ€ë¹„
                    window.location.href = 'index.html';
                }
            };

            const getResult = () => {
                if (score >= 50) {
                    // [Type A] í•©ê²© - ìˆ˜ìµí™” ê³¼ì •
                    return {
                        type: 'A',
                        icon: <BarChart2 className="w-16 h-16 mb-4" style={{ color: themeColors.blue }} />,
                        title: "ğŸ† ì½˜í…ì¸  ìˆ˜ìµí™” ê³¼ì • (ìƒìœ„ 10% ì¸ì¬)",
                        subtitle: "íŠ¸ë Œë“œ ê°ê° + ë©˜íƒˆ + ì‹¤í–‰ë ¥ 3ë°•ì ì™„ë¹„!",
                        description: "ëŒ€í‘œë‹˜ì€ ì´ë¯¸ ì¤€ë¹„ëœ ì—ì´ìŠ¤ì…ë‹ˆë‹¤. ê¸°ì´ˆ íˆ´ ì‚¬ìš©ë²• ê°™ì€ ê±´ ê±´ë„ˆë›°ê³ , ë°”ë¡œ ì‹¤ì „ ìˆ˜ìµí™” ì „ëµ(í‚¤ì›Œë“œ ë¶„ì„, ì†Œêµ¬ì  íƒ€ê²ŸíŒ…)ìœ¼ë¡œ ë“¤ì–´ì˜¤ì‹œë©´ ë©ë‹ˆë‹¤. ì§€ê¸ˆ ë°”ë¡œ ì‹œì‘í•˜ë©´ ê°€ì¥ ë¹ ë¥¸ ì„±ê³¼ë¥¼ ë‚¼ ìœ í˜•ì…ë‹ˆë‹¤.",
                        borderColor: themeColors.blue,
                        bgColor: hexToRgba(themeColors.blue, 0.05),
                        textColor: themeColors.blue,
                        btnColor: themeColors.blue,
                        btnHover: "#0d0580",
                        btnText: "ìˆ˜ìµí™” ì‹¤ì „ë°˜ ì‹ ì²­í•˜ê¸°",
                        // Type AëŠ” ì‹ ì²­í•˜ê¸° ë²„íŠ¼(ì™¸ë¶€ë§í¬/í˜ì´ì§€ì´ë™) + ë‹«ê¸° ë²„íŠ¼ ë‘˜ ë‹¤ í•„ìš”
                        showSecondaryBtn: true 
                    };
                } else if (score >= 35) {
                    // [Type B] í•©ê²© - ê¸°ì´ˆ ê³¼ì •
                    return {
                        type: 'B',
                        icon: <Zap className="w-16 h-16 text-yellow-500 mb-4" />,
                        title: "ğŸŒ± ì½˜í…ì¸  ì œì‘ë°˜ (ê¸°ì´ˆ í•„ìˆ˜)",
                        subtitle: "ì—´ì •ì€ ì¶©ë¶„! í•˜ì§€ë§Œ 'ë¬´ê¸°'ê°€ í•„ìš”í•©ë‹ˆë‹¤.",
                        description: "ëˆì„ ë²Œê³  ì‹¶ì€ ë§ˆìŒì€ í¬ì§€ë§Œ, ì•„ì§ íŠ¸ë Œë“œë¥¼ ì½ëŠ” ëˆˆì´ë‚˜ íˆ´ í™œìš© ëŠ¥ë ¥ì´ ì¡°ê¸ˆ ë¶€ì¡±í•©ë‹ˆë‹¤. ì§€ê¸ˆ ë°”ë¡œ ìˆ˜ìµí™” ë°˜ì— ì˜¤ì‹œë©´ í—¤ë§¤ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. [ì½˜í…ì¸  ì œì‘ë°˜]ì—ì„œ ì¸ë„¤ì¼, ìˆí¼ ì œì‘ ë“± 'ì´ ì˜ëŠ” ë²•'ë¶€í„° ë°°ìš°ê³  í•©ë¥˜í•˜ì„¸ìš”.",
                        borderColor: "#EAB308", bgColor: "#FEFCE8", textColor: "#713F12",
                        btnColor: "#CA8A04", btnHover: "#A16207",
                        btnText: "ì½˜í…ì¸  ê¸°ì´ˆë°˜ ì»¤ë¦¬í˜ëŸ¼ ë³´ê¸°",
                        // Type Bë„ ì‹ ì²­í•˜ê¸° + ë‹«ê¸° ë²„íŠ¼ ë‘˜ ë‹¤ í•„ìš”
                        showSecondaryBtn: true
                    };
                } else {
                    // [Type C] ë°˜ë ¤ - ì¤‘ë³µ ë²„íŠ¼ ì œê±° ëŒ€ìƒ
                    return {
                        type: 'C',
                        icon: <AlertTriangle className="w-16 h-16 text-red-500 mb-4" />,
                        title: "â›” ìˆ˜ê°• ë°˜ë ¤ ëŒ€ìƒ",
                        subtitle: "ì£„ì†¡í•˜ì§€ë§Œ, í˜„ì¬ ìˆ˜ê°•ì´ ì–´ë µìŠµë‹ˆë‹¤.",
                        description: "ë³¸ ê³¼ì •ì€ ê¸°ë³¸ì ì¸ ë””ì§€í„¸ íˆ´ í™œìš© ëŠ¥ë ¥ê³¼ í•˜ë£¨ 3ì‹œê°„ ì´ìƒì˜ íˆ¬ì…ì´ í•„ìˆ˜ì ì…ë‹ˆë‹¤. í˜„ì¬ ëŒ€í‘œë‹˜ì˜ ìƒí™©(ì‹œê°„ ë¶€ì¡±, ì»´í“¨í„° í™œìš© ëŠ¥ë ¥ ë“±)ìœ¼ë¡œëŠ” ìˆ˜ê°•í•˜ì…”ë„ ë§Œì¡±ìŠ¤ëŸ¬ìš´ ê²°ê³¼ë¥¼ ì–»ê¸° ì–´ë µìŠµë‹ˆë‹¤. ì¶”í›„ ë” ê¸°ì´ˆì ì¸ ê³¼ì •ì´ ê°œì„¤ë˜ë©´ ì•ˆë‚´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.",
                        borderColor: "#E5E7EB", bgColor: "#F3F4F6", textColor: "#1F2937",
                        btnColor: "#4B5563", btnHover: "#374151",
                        btnText: "í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°", // ë©”ì¸ ë²„íŠ¼ ìì²´ê°€ 'ë‹«ê¸°' ì—­í• ì„ í•¨
                        showSecondaryBtn: false // ë‘ ë²ˆì§¸ ë²„íŠ¼ ìˆ¨ê¹€
                    };
                }
            };

            const result = getResult();

            return (
                <div className="min-h-screen flex items-center justify-center p-4 font-sans">
                    <div className="max-w-xl w-full bg-white rounded-2xl shadow-xl overflow-hidden min-h-[600px] flex flex-col transition-colors duration-500">
                        {step === 'intro' && (
                            <div className="flex flex-col items-center justify-center h-full p-8 text-center flex-grow animate-fade-in">
                                <div className="mb-8">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/f/ff/Coupang_logo.svg" alt="Coupang Logo" className="h-16 w-auto" onError={(e) => { e.target.onerror = null; e.target.style.display='none'; }} />
                                </div>
                                <h1 className="text-2xl font-bold text-gray-900 mb-2">ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤<br/>ì ì„± & ë“±ê¸‰ ì§„ë‹¨</h1>
                                <p className="text-gray-600 mb-8">ë‚˜ëŠ” ê³¼ì—° ì´ ë¶€ì—…ìœ¼ë¡œ ëˆì„ ë²Œ ìˆ˜ ìˆì„ê¹Œ?<br/>ë‚˜ì—ê²Œ ë§ëŠ” ë°˜ì„ 3ë¶„ ë§Œì— ì§„ë‹¨í•´ ë“œë¦½ë‹ˆë‹¤.</p>
                                <div className="p-4 rounded-lg text-sm text-left w-full mb-8" style={{ backgroundColor: hexToRgba(themeColors.blue, 0.05), color: themeColors.blue }}>
                                    <p className="font-semibold mb-2">ğŸ’¡ í…ŒìŠ¤íŠ¸ ì „ í™•ì¸ì‚¬í•­</p>
                                    <ul className="list-disc pl-4 space-y-1">
                                        <li>ì´ 20ë¬¸í•­ì…ë‹ˆë‹¤.</li>
                                        <li>ì†”ì§í•˜ê²Œ ë‹µë³€í•´ ì£¼ì„¸ìš”.</li>
                                        <li>ê²°ê³¼ì— ë”°ë¼ ìˆ˜ê°•ì´ ê±°ì ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                                    </ul>
                                </div>
                                <button onClick={handleStart} className="w-full text-white font-bold py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-md hover:shadow-lg transform active:scale-95" style={{ backgroundColor: themeColors.blue }}>
                                    ì§„ë‹¨ ì‹œì‘í•˜ê¸° <ChevronRight size={20} />
                                </button>
                            </div>
                        )}

                        {step === 'quiz' && (
                            <div className="flex flex-col h-full">
                                <div className="h-2 bg-gray-100 w-full transition-all duration-300">
                                    <div className="h-full transition-all duration-300 ease-out" style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%`, backgroundColor: currentThemeColor }}></div>
                                </div>
                                <div className="p-6 flex-grow flex flex-col">
                                    <div className="mb-2">
                                        <span className="text-xs font-bold px-2 py-1 rounded transition-colors duration-300" style={{ color: currentThemeColor, backgroundColor: hexToRgba(currentThemeColor, 0.1) }}>{questions[currentQuestion].category}</span>
                                        <span className="text-xs text-gray-400 float-right">{currentQuestion + 1} / {questions.length}</span>
                                    </div>
                                    <h2 className="text-xl font-bold text-gray-800 mt-2 mb-8 leading-relaxed whitespace-pre-line">{questions[currentQuestion].q}</h2>
                                    <div className="space-y-3 mt-auto">
                                        {questions[currentQuestion].options.map((option, index) => (
                                            <button key={index} onClick={() => handleAnswer(option.score)} className="w-full p-4 text-left border-2 rounded-xl transition-all active:scale-98 text-gray-700 font-medium hover:shadow-md" 
                                                style={{ borderColor: 'transparent', boxShadow: '0 0 0 1px #f3f4f6 inset' }}
                                                onMouseEnter={(e) => { e.currentTarget.style.backgroundColor = hexToRgba(currentThemeColor, 0.05); e.currentTarget.style.borderColor = currentThemeColor; e.currentTarget.style.boxShadow = `0 0 0 1px ${currentThemeColor} inset`; }}
                                                onMouseLeave={(e) => { e.currentTarget.style.backgroundColor = 'transparent'; e.currentTarget.style.borderColor = '#f3f4f6'; e.currentTarget.style.boxShadow = 'none'; }}>
                                                {option.text}
                                            </button>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}

                        {step === 'analyzing' && (
                            <div className="flex flex-col items-center justify-center h-full p-8 text-center flex-grow">
                                <div className="relative mb-6">
                                    <div className="w-16 h-16 border-4 rounded-full animate-spin" style={{ borderColor: hexToRgba(themeColors.blue, 0.2), borderTopColor: themeColors.blue }}></div>
                                </div>
                                <h2 className="text-xl font-bold text-gray-900 mb-2">ë‹µë³€ ë¶„ì„ ì¤‘...</h2>
                                <p className="text-gray-500 text-sm">ëŒ€í‘œë‹˜ì˜ ì„±í–¥ê³¼ ì½˜í…ì¸  ê°ê°ì„<br/>ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ë¶„ë¥˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                            </div>
                        )}

                        {step === 'result' && (
                            <div className="flex flex-col h-full animate-fade-in p-6 overflow-y-auto">
                                <div className="flex flex-col items-center text-center mb-6">
                                    {result.icon}
                                    <h2 className="text-2xl font-bold text-gray-900 mb-1">{result.title}</h2>
                                    <p className="text-gray-500 font-medium">{result.subtitle}</p>
                                </div>
                                <div className="p-6 rounded-xl border mb-6" style={{ borderColor: result.borderColor, backgroundColor: result.bgColor, color: result.textColor }}>
                                    <h3 className="font-bold mb-3 text-lg border-b border-black/10 pb-2">ì§„ë‹¨ ê²°ê³¼ ë¦¬í¬íŠ¸</h3>
                                    <p className="leading-relaxed text-sm whitespace-pre-line text-gray-700">{result.description}</p>
                                </div>
                                <div className="mt-auto space-y-3">
                                    {/* Primary Button */}
                                    <button 
                                        className="w-full py-4 rounded-xl text-white font-bold shadow-lg transition-transform active:scale-95" 
                                        style={{ backgroundColor: result.btnColor }} 
                                        onMouseEnter={(e) => e.currentTarget.style.backgroundColor = result.btnHover} 
                                        onMouseLeave={(e) => e.currentTarget.style.backgroundColor = result.btnColor}
                                        onClick={() => {
                                            // Type C(ë°˜ë ¤)ì¼ ë•ŒëŠ” ì´ ë²„íŠ¼ì´ ë‹«ê¸° ì—­í• ì„ í•¨
                                            if (result.type === 'C') {
                                                handleClose();
                                            } else {
                                                // Type A, Bì¼ ë•ŒëŠ” ì‹ ì²­ í˜ì´ì§€ ì´ë™ (ì˜ˆì‹œë¡œ êµ¬ê¸€ ì—°ê²°)
                                                // ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì— ì‹ ì²­ í˜ì´ì§€ URLì„ ë„£ìœ¼ì„¸ìš”.
                                                window.open('https://www.google.com', '_blank');
                                            }
                                        }}
                                    >
                                        {result.btnText}
                                    </button>
                                    
                                    {/* Secondary Button (Type Cì¼ ë•ŒëŠ” ìˆ¨ê¹€) */}
                                    {result.showSecondaryBtn && (
                                        <button 
                                            onClick={handleClose} 
                                            className="w-full py-3 text-gray-400 text-sm hover:text-gray-600 transition-colors"
                                        >
                                            í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°
                                        </button>
                                    )}
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<CoupangPartnersTest />);
    </script>
</body>
</html>
